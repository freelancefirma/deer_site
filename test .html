<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Custom Scrollbar</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: #E2F0F2;
      font-family: 'Arial', sans-serif;
      overflow: hidden;
    }

    .scroll-container {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .scroll-content {
      position: absolute;
      top: 0;
      left: 0;
      right: -17px; /* костыль для маков — избегает появления родного скролла */
      bottom: 0;
      padding: 2vw;
      overflow-y: scroll;
      scrollbar-width: none; /* Firefox */
    }

    .scroll-content::-webkit-scrollbar {
      display: none; /* Chrome */
    }

    .scrollbar-thumb {
      position: absolute;
      top: 0;
      right: 0vw;
      width: 0.5vw;
      background: rgba(0, 109, 119, 0.6);
      border-radius: 1vw;
      backdrop-filter: blur(3px);
      transition: opacity 0.3s;
      opacity: 0;
      pointer-events: none;
    }

    .scroll-container:hover .scrollbar-thumb {
      opacity: 1;
    }

    .text-block {
      font-size: 2vw;
      line-height: 3vw;
      color: #006d77;
    }
  </style>
</head>
<body>
  <div class="scroll-container">
    <div class="scroll-content">
      <div class="text-block">
        <!-- Длинный текст -->
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
        <p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco.</p>
        <p>Laboris nisi ut aliquip ex ea commodo consequat.</p>
        <p>Duis aute irure dolor in reprehenderit in voluptate velit esse.</p>
        <p>Excepteur sint occaecat cupidatat non proident.</p>
        <p>Sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>Fusce id velit ut tortor pretium viverra suspendisse potenti.</p>
        <p>In aliquam sem fringilla ut morbi tincidunt augue interdum.</p>
        <p>Tristique senectus et netus et malesuada fames ac turpis egestas.</p>
        <p>Mauris rhoncus aenean vel elit scelerisque.</p>
        <p>Cursus eget nunc scelerisque viverra mauris in aliquam sem.</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
        <p>More lines...</p>
      </div>
    </div>
    <div class="scrollbar-thumb"></div>
  </div>

  <script>
    const container = document.querySelector('.scroll-container');
    const content = container.querySelector('.scroll-content');
    const thumb = container.querySelector('.scrollbar-thumb');

    function updateThumb() {
      const scrollHeight = content.scrollHeight;
      const clientHeight = content.clientHeight;
      const scrollTop = content.scrollTop;

      const thumbHeight = (clientHeight / scrollHeight) * clientHeight;
      const thumbTop = (scrollTop / scrollHeight) * clientHeight;

      thumb.style.height = `${thumbHeight}px`;
      thumb.style.transform = `translateY(${thumbTop}px)`;
    }

    content.addEventListener('scroll', updateThumb);
    window.addEventListener('resize', updateThumb);
    document.addEventListener('DOMContentLoaded', updateThumb);
  </script>
</body>
</html>
